@import "tailwindcss";

:root{
  --bg:#030504; /* page bg */
  --panel:#071213; /* sidebar/main panel */
  --muted:#6b7876;
  --teal:#12d6a8;
  --accent:#00c2a8;
  --bubble-other:#18201f;
  --bubble-me:#05c29b;
  --glass: rgba(255,255,255,0.02);
  --shadow: 0 8px 24px rgba(2,8,6,0.6);
}

*{box-sizing:border-box}
html,body,#root{height:100%;}
body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#dff8f0;background:var(--bg);-webkit-font-smoothing:antialiased}

.app-root{display:flex;min-height:100vh;width:100vw}

/* Sidebar */
.sidebar{width:300px;flex:0 0 300px;background:linear-gradient(180deg, rgba(2,8,6,0.6), rgba(4,12,11,0.8));border-right:1px solid var(--glass);display:flex;flex-direction:column;box-shadow:var(--shadow)}
.sidebar.closed{width:0;flex:0 0 0;overflow:hidden}
.sidebar-top{display:flex;align-items:center;justify-content:space-between;padding:18px}
.brand{margin:0;color:var(--teal);font-size:1.15rem;font-weight:800;letter-spacing:0.2px}
.sidebar-actions{display:flex;gap:8px}
.icon-btn{background:transparent;border:0;color:var(--muted);padding:6px 8px;border-radius:8px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}
.icon-btn:hover{background:rgba(255,255,255,0.02);color:var(--teal);transform:translateY(-1px)}
.icon-btn:active{transform:translateY(0)}

.search-wrap{padding:0 14px 12px}
.search-wrap input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:rgba(3,10,9,0.6);color:#cfeae3;outline:none}
.search-wrap input::placeholder{color:rgba(207,234,227,0.4)}

.conversations{flex:1;overflow:auto;padding:10px}
.conversation-item{display:flex;gap:12px;padding:12px;border-radius:12px;align-items:center;cursor:pointer;color:#b6dcd3;transition:background .18s,transform .12s}
.conversation-item:hover{background:linear-gradient(90deg, rgba(20,30,28,0.35), rgba(10,15,14,0.05));transform:translateX(4px)}
.conversation-item.active{background:linear-gradient(90deg, rgba(0,194,168,0.075), transparent);box-shadow:inset 0 0 0 1px rgba(0,194,168,0.02)}
.avatar{width:46px;height:46px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#062422; font-weight:800;box-shadow:0 2px 6px rgba(0,0,0,0.6)}
.avatar::after{content:'';width:10px;height:10px;border-radius:50%;background:var(--teal);display:block;position:relative;left:14px;top:-14px;box-shadow:0 0 0 3px rgba(18,214,168,0.06)}
.avatar.small{width:40px;height:40px}
.avatar.tiny{width:28px;height:28px;border-radius:8px}

.meta{flex:1;min-width:0}
.name-row{display:flex;justify-content:space-between;align-items:center}
.name{font-weight:700;color:#e6fff9}
.badge{background:var(--teal);color:#021;min-width:22px;padding:4px 8px;border-radius:999px;font-size:0.78rem}
.last{color:var(--muted);font-size:0.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.sidebar-footer{padding:14px 16px;border-top:1px solid rgba(255,255,255,0.02);color:var(--muted);font-size:0.95rem}

/* Main area */
.main-area{flex:1;display:flex;align-items:stretch;justify-content:flex-start;padding:0;min-width:0;min-height:100vh}
.chat-window{flex:1;display:flex;flex-direction:column;background:transparent;margin:0;height:100vh;max-width:none}

.chat-header{display:flex;align-items:center;justify-content:space-between;padding:14px 22px;border-bottom:1px solid rgba(255,255,255,0.02);background:linear-gradient(180deg, rgba(0,0,0,0.25), transparent);backdrop-filter:blur(4px)}
.header-left{display:flex;align-items:center;gap:12px}
.title .name{font-weight:800}
.status{font-size:0.85rem;color:var(--muted)}
.header-right .icon-btn{font-size:18px}

.messages{flex:1;min-height:0;overflow:auto;padding:22px 46px 28px;display:flex;flex-direction:column;gap:18px}
.message-row{display:flex;gap:12px;align-items:flex-start;margin-bottom:8px}
.message-row.from-me{justify-content:flex-end}

/* message content column holds bubble + timestamp */

.message-content{display:flex;flex-direction:column;align-items:flex-start;max-width:66%}
.message-row.from-me .message-content{align-items:flex-end;max-width:50%}

.message-row.from-me .bubble{background:var(--bubble-me);color:#04211b;border-radius:20px;padding:12px 18px;box-shadow:0 6px 18px rgba(3,13,11,0.45)}
.message-row.from-them .bubble{background:var(--bubble-other);color:#e7f6f2;border-radius:20px;padding:12px 18px;border:1px solid rgba(255,255,255,0.02);box-shadow:0 4px 12px rgba(0,0,0,0.4)}
.bubble{position:relative}
.bubble .text{white-space:pre-wrap;line-height:1.45}

/* Timestamp rendered outside the bubble */
.ts-outside{font-size:0.78rem;color:var(--teal);margin-top:8px;opacity:0.95}
.ts-outside.left{align-self:flex-start;margin-left:0px}
.ts-outside.right{align-self:flex-end;margin-right:8px}
.message-row .avatar.tiny{flex-shrink:0}
.message-row.from-me .avatar.me{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:transparent;color:var(--teal)}

.composer{display:flex;gap:8px;padding:14px 22px;border-top:1px solid rgba(255,255,255,0.02);align-items:center;background:linear-gradient(180deg, rgba(2,9,8,0.2), rgba(0,0,0,0.2))}
.composer input{flex:1;padding:12px 14px;border-radius:999px;border:1px solid rgba(255,255,255,0.03);background:rgba(3,10,9,0.6);color:#eafffb}
.composer .attach{background:transparent;border:0;color:var(--muted);font-size:18px}
.composer .send{background:var(--accent);border:0;color:#022;width:52px;height:44px;display:inline-flex;align-items:center;justify-content:center;border-radius:12px;cursor:pointer;box-shadow:0 8px 22px rgba(0,196,168,0.12)}

.empty{padding:40px;color:var(--muted);text-align:center}

/* Responsive */
@media (max-width:900px){
  .sidebar{position:absolute;z-index:40;height:100vh;left:0;top:0;transform:translateX(0);transition:width .24s,transform .24s}
  .sidebar.closed{transform:translateX(-110%)}
  .main-area{padding:0 0 56px}
  .chat-window{max-width:100%}
}

@media (max-width:480px){
  .sidebar{width:280px}
  .conversation-item .avatar{width:40px;height:40px}
  .bubble{max-width:78%}
}

.app-root{display:flex;min-height:100vh;height:100vh}
.sidebar{width:280px;flex:0 0 280px;background:linear-gradient(180deg,#071011 0,#071214 100%);border-right:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column}
.sidebar.closed{width:0;flex:0 0 0;overflow:hidden}
.main-area{flex:1;display:flex;align-items:stretch;justify-content:flex-start;padding:0;min-width:0;min-height:100vh}
.chat-window{flex:1;display:flex;flex-direction:column;background:transparent;margin:0;height:100vh;max-width:none}
.messages{flex:1;min-height:0;overflow:auto;padding:22px 36px 32px;display:flex;flex-direction:column;gap:16px}
.composer{display:flex;gap:8px;padding:12px 18px;border-top:1px solid rgba(255,255,255,0.02);align-items:center}
.composer input{flex:1;padding:12px 14px;border-radius:999px;border:1px solid rgba(255,255,255,0.03);background:#071617;color:#eafffb}
.composer .attach{background:transparent;border:0;color:var(--muted);font-size:18px}
.composer .send{background:var(--accent);border:0;color:#022;width:48px;height:44px;display:inline-flex;align-items:center;justify-content:center;border-radius:12px;cursor:pointer}

/* Ensure composer stays visible on small screens while messages area scrolls */
.chat-window .composer{position:sticky;bottom:0;z-index:10}

/* subtle message entrance */
@keyframes floatUp {
  from { opacity:0; transform: translateY(6px) }
  to { opacity:1; transform: translateY(0) }
}
.message-row{animation: floatUp .18s ease both}

/* custom scrollbar */
.conversations::-webkit-scrollbar, .messages::-webkit-scrollbar{width:10px}
.conversations::-webkit-scrollbar-thumb, .messages::-webkit-scrollbar-thumb{background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));border-radius:8px}
.conversations::-webkit-scrollbar-track, .messages::-webkit-scrollbar-track{background:transparent}
